"use strict";(self.webpackChunkms_template=self.webpackChunkms_template||[]).push([[750],{20845:(e,n,t)=>{t.r(n);var r=t(91013),a=t.n(r),c=t(20745),o=t(49656),i=(t(94586),t(15861)),l=t(4942),u=t(93433),s=t(29439),m=t(87757),f=t.n(m),d=t(67770),p=t(309),v=t(24616),h=t(25592),E=t(73218),y=t(47711),g=t(2825),b=t(76570),k=t(20079),w=t(70438),x=t.n(w),N=t(94035),T=t(89317),M=t(93379),A=t.n(M),S=t(7795),Z=t.n(S),I=t(90569),L=t.n(I),O=t(3565),j=t.n(O),C=t(19216),D=t.n(C),Q=t(44589),P=t.n(Q),z=t(40221),R={};R.styleTagTransform=P(),R.setAttributes=j(),R.insert=L().bind(null,"head"),R.domAPI=Z(),R.insertStyleElement=D();A()(z.Z,R);const U=z.Z&&z.Z.locals?z.Z.locals:void 0;var B=function(){return a().createElement(a().Fragment,null,a().createElement(p.mQ,{centered:!0},a().createElement(p.mQ.TabPane,{tab:"消息(4)",key:"message",className:U.notificationTabs},"消息内容"),a().createElement(p.mQ.TabPane,{tab:"代办(10)",key:"task",className:U.notificationTabs},"代办内容")),a().createElement("div",{className:U.notificationBottom},a().createElement("div",null,"清空通知"),a().createElement("div",null,"查看更多")))};const _=function(e){var n=e.count,t=a().createElement(p.v2,null,a().createElement(B,null));return a().createElement(p.Lt,{trigger:["click"],overlay:t,placement:"bottomLeft",overlayClassName:U.notificationOverlay},a().createElement("div",{className:U.notificationDropdown},a().createElement(p.Ct,{count:n,className:U.notification},a().createElement(T.Z,null))))};var F=t(71625);const H=function(){var e=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n;return null===(n=e.current)||void 0===n||n.continuousStart(),function(){var n;null===(n=e.current)||void 0===n||n.complete()}}),[]),a().createElement(a().Fragment,null,a().createElement(k.Z,{ref:e}))};var W=t(38948),Y=t(19461),q={};q.styleTagTransform=P(),q.setAttributes=j(),q.insert=L().bind(null,"head"),q.domAPI=Z(),q.insertStyleElement=D();A()(Y.Z,q);const J=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var V=function(e){var n=e.name,t=(0,o.k6)();return a().createElement(p.Lt,{overlay:a().createElement(p.v2,null,a().createElement(p.v2.Item,{key:"logout",icon:a().createElement(v.Z,null)},a().createElement("div",{role:"button","aria-hidden":"true",onClick:function(){(0,W.iA)(),t.push("/User/Login")}},"退出登录")))},a().createElement("div",{className:J.userName},n))},X=function(e,n){return e.findIndex((function(e){return(e.key||e.path)===n}))},$=function e(n,t){n.forEach((function(n){var r,a=t||"首页";/^\/.*/.test(a)&&(a=null===(r=a)||void 0===r?void 0:r.substring(1));n.fullName=a,n.children&&e(n.children,"".concat(t||"","/").concat(n.name))}))};const ee=function(e){var n=e.children,t=(0,o.TH)(),c=(0,r.useState)({name:"",title:"",menus:[]}),l=(0,s.Z)(c,2),m=l[0],v=l[1],w=(0,r.useState)([{path:"/",name:"首页",closable:!1}]),T=(0,s.Z)(w,2),M=T[0],A=T[1],S=(0,r.useState)("/"),Z=(0,s.Z)(S,2),I=Z[0],L=Z[1],O=(0,r.useState)(),j=(0,s.Z)(O,2),C=j[0],D=j[1],Q=(0,r.useRef)(null),P=(0,r.useRef)(null),z=function e(n){var t=[];return n.forEach((function(n,r){n.children?t.splice.apply(t,[r,0].concat((0,u.Z)(e(n.children)))):t.push(n)})),t},R=(0,r.useState)([]),U=(0,s.Z)(R,2),B=U[0],Y=U[1];(0,r.useEffect)((function(){(0,N.OY)("ms-tabs").then((function(e){(null==e?void 0:e.length)>0&&A(e)})),(0,N.OY)("ms-active-key").then((function(e){e&&L(e)}));var e=function(e){var n;"/"===e.key&&(e.stopPropagation(),null===(n=P.current)||void 0===n||n.focus())};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[]),(0,r.useEffect)((function(){(0,N.xQ)("ms-tabs",M.map((function(e){return G(G({},e),{},{onClick:void 0})})))}),[M]),(0,r.useEffect)((function(){(0,N.xQ)("ms-active-key",I)}),[I]);var q,K={open:function(e){var n=e.item,t=e.active,r=void 0===t||t,a=e.params,c=n.key||n.path;-1===X(M,c)&&A([].concat((0,u.Z)(M),[G(G({},n),{},{params:a})])),r&&L(c)},close:function(e){var n=e.key,t=e.goback,r=X(M,n);-1!==r&&(M.splice(r,1),A((0,u.Z)(M))),t&&L(t)},active:function(e){var n=e.key,t=e.params,r=X(M,n);M[r].params=t,A((0,u.Z)(M)),L(n)},status:"passive"},ee=function(){return"multi"===W.vc.tabs&&"side"===W.vc.layout},ne=[],te=function(e,n){var t=function(){n&&L(n),A(e)},r=ne.find((function(e){return e.key===I}));try{var a,c,o,i=null==r||null===(a=r.hook)||void 0===a||null===(c=a.current)||void 0===c||null===(o=c.onBeforeCloseTab)||void 0===o?void 0:o.call(c);i instanceof Promise?i.then((function(e){!1!==e&&t()})).catch((function(e){t(),console.error("关闭标签页错误 - [".concat(I,"]"),e)})):!1!==i&&t()}catch(e){t(),console.error("关闭标签页错误 - [".concat(I,"]"),e)}};return a().createElement(a().Fragment,null,a().createElement(k.Z,{ref:Q}),a().createElement(d.ZP,{className:J.proLayout,title:m.title,layout:W.vc.layout,logo:W.vc.logo,navTheme:W.vc.navTheme,headerTheme:W.vc.headerTheme,location:ee()?{pathname:I}:t,fixedHeader:!0,fixSiderbar:!0,menu:{request:(q=(0,i.Z)(f().mark((function e(){var n,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,W.cb)();case 3:return n=e.sent,$(n.menus),v(n),t=z(n.menus).map((function(e){return{key:e.path||e.key||"",description:e.fullName,title:e.name||"",data:e}})),Y(t),e.abrupt("return",n.menus);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return q.apply(this,arguments)})},headerContentRender:function(){if(ee()){return a().createElement(p.mQ,{type:"editable-card",hideAdd:!0,className:J.tabsNavTop,activeKey:I,renderTabBar:function(e,n){return a().createElement(n,e,(function(e){return function(e){return a().createElement(p.Lt,{overlay:a().createElement(p.v2,null,a().createElement(p.v2.Item,{key:"reload",icon:a().createElement(h.Z,null),onClick:function(){var n;null===(n=Q.current)||void 0===n||n.continuousStart();var t=0;(null==C?void 0:C.key)===e.key&&(t+=((null==C?void 0:C.count)||0)+1),D({key:e.key,count:t}),setTimeout((function(){var e;null===(e=Q.current)||void 0===e||e.complete()}),0)}},"重新加载"),a().createElement(p.v2.Item,{key:"closeOther",icon:a().createElement(E.Z,null),onClick:function(){var n=M.filter((function(n){var t=n.key||n.path;return!!["/",e.key].includes(t)}));te(n,e.key)}},"关闭其他标签页"),a().createElement(p.v2.Item,{key:"closeRight",icon:a().createElement(y.Z,null),onClick:function(){var n=X(M,e.key),t=M.slice(0,n+1);te(t,e.key)}},"关闭右侧标签页"),a().createElement(p.v2.Item,{key:"closeForce",icon:a().createElement(g.Z,null),onClick:function(){var n=X(M,e.key);if(-1!==n){var t;if(M.splice(n,1),A((0,u.Z)(M)),M.length>0){var r=M[M.length-1];t=r.key||r.path}L(t||"/")}}},"强制关闭标签")),trigger:["contextMenu"]},e)}(e)}))},onEdit:function(e,n){if("remove"===n){var t=X(M,e);if(-1!==t){var r,a=(0,u.Z)(M);if(a.splice(t,1),a.length>0){var c=a[a.length-1];r=c.key||c.path}te(a,r||"/")}}},onChange:function(e){A((0,u.Z)(M)),L(e)}},M.map((function(e){return a().createElement(p.mQ.TabPane,{tab:e.name,key:e.key||e.path,closable:e.closable})})))}return null},rightContentRender:function(){return a().createElement(p.T,null,a().createElement(p.Ph,{ref:P,showSearch:!0,value:"",style:{width:250},filterOption:function(e,n){var t,r=null==n||null===(t=n.children)||void 0===t?void 0:t[0],a=x()(r,{style:x().STYLE_FIRST_LETTER}),c=x()(e,{style:x().STYLE_FIRST_LETTER});return new RegExp("^".concat(c.join(""),".*")).test(a.join(""))},onSelect:function(e){var n=B.find((function(n){return n.key===e}));n&&K.open({item:n.data})},suffixIcon:a().createElement(b.Z,null)},B.map((function(e){return a().createElement(p.Ph.Option,{key:e.key,value:e.key},e.title," ",a().createElement("br",null),a().createElement(p.ZT.Text,{type:"secondary"},e.description))}))),a().createElement(_,{count:20}),a().createElement(V,{name:m.name}))},menuItemRender:function(e,n){var t=e.path;if(t){if("single"===W.vc.tabs)return a().createElement(o.rU,{to:t},n);if(ee()){return a().createElement("div",{role:"link","aria-hidden":"true",onClick:function(){var n=e.key||e.path;-1===M.findIndex((function(e){var t=e.key||e.path;return n===t}))&&A([].concat((0,u.Z)(M),[e])),L(n)}},n)}}return n}},function(){if(ee()){return a().createElement(p.mQ,{className:J.tabsHideNav,renderTabBar:function(){return a().createElement("div",null)},activeKey:I},M.map((function(e){var n=window.g_routers.find((function(n){return n.path===e.path})),t=(null==n?void 0:n.component)||F.default,c=e.key||e.path||"";K.status=c===I?"active":"passive";var o=(0,r.createRef)();return ne.push({key:e.key||e.path,hook:o}),a().createElement(p.mQ.TabPane,{tab:e.name,key:e.key||e.path,closable:e.closable,forceRender:!0},a().createElement(r.Suspense,{fallback:a().createElement(H,null)},a().createElement(t,{key:(null==C?void 0:C.key)===c?C.count:void 0,tabs:G(G({},K),{},{params:e.params,hooks:o})})))})))}return n}()))};const ne=function(e){var n,t=e.children;return n=(0,o.TH)(),(0,W.QN)().includes(n.pathname)?a().createElement(a().Fragment,null,t):(0,W.He)()?a().createElement(ee,null,t):((0,o.k6)().replace("/User/Login"),null)};var te=a().lazy((function(){return t.e(21).then(t.bind(t,32021))})),re=a().lazy((function(){return t.e(392).then(t.bind(t,59392))})),ae=a().lazy((function(){return t.e(663).then(t.bind(t,43663))})),ce=[{path:"/",component:te},{path:"/User/Login",component:re},{path:"/welcome",component:ae}],oe=[],ie=a().lazy((function(){return Promise.resolve().then(t.bind(t,71625))}));const le=function(e){var n=e.routers,t=void 0===n?[]:n;return a().createElement(o.VK,{basename:"/ms-template"},a().createElement(o.rs,null,a().createElement(o.AW,{path:"/",exact:!0,sensitive:!0,render:function(e){return a().createElement(ne,e,a().createElement(r.Suspense,{fallback:a().createElement(H,null)},a().createElement(te,e)))}}),a().createElement(o.AW,{path:"/User/Login",exact:!0,sensitive:!0,render:function(e){return a().createElement(ne,e,a().createElement(r.Suspense,{fallback:a().createElement(H,null)},a().createElement(re,e)))}}),a().createElement(o.AW,{path:"/welcome",exact:!0,sensitive:!0,render:function(e){return a().createElement(ne,e,a().createElement(r.Suspense,{fallback:a().createElement(H,null)},a().createElement(ae,e)))}}),t.map((function(e){return a().createElement(o.AW,{path:e.path,exact:!0,sensitive:!0,key:e.path,render:function(n){var t=e.component;return a().createElement(ne,n,a().createElement(r.Suspense,{fallback:a().createElement(H,null)},a().createElement(t,n)))}})})),a().createElement(o.AW,{path:"*",render:function(e){var n=a().createElement(ie,e);return a().createElement(ne,e,a().createElement(r.Suspense,{fallback:a().createElement("div",null)},n))}})))};if(window.g_routers=ce.concat(oe),document.querySelector("#root")){(0,c.s)(document.querySelector("#root")).render(a().createElement(le,{routers:oe}))}else{var ue=document.createElement("div");ue.setAttribute("id","root"),ue.style.width="100%",ue.style.height="100%",document.body.appendChild(ue),(0,c.s)(ue).render(a().createElement(le,{routers:oe}))}},38948:(e,n,t)=>{t.d(n,{He:()=>u,QN:()=>i,cb:()=>l,iA:()=>s,vc:()=>m});var r=t(15861),a=t(87757),c=t.n(a),o=t(94035),i=function(){return["/User/Login"]},l=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:"系统管理员",title:"MS Template",menus:[{path:"/",name:"欢迎页面",children:[{path:"/one/welcome",name:"第一个",children:[{path:"/welcome",name:"第二个"},{path:"/test/",name:"React 微前端"},{path:"/test/test-vue",name:"Vue 微前端"}]}]}]});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){return!!localStorage.getItem("ms-token")},s=function(){localStorage.clear(),(0,o.O5)()},m={layout:"side",navTheme:"dark",headerTheme:"dark",tabs:"multi",logo:"https://avatars.githubusercontent.com/u/91562499?s=200&v=4"}},71625:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var r=t(91013),a=t.n(r),c=t(93379),o=t.n(c),i=t(7795),l=t.n(i),u=t(90569),s=t.n(u),m=t(3565),f=t.n(m),d=t(19216),p=t.n(d),v=t(44589),h=t.n(v),E=t(60057),y={};y.styleTagTransform=h(),y.setAttributes=f(),y.insert=s().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p();o()(E.Z,y);const g=E.Z&&E.Z.locals?E.Z.locals:void 0;const b=function(){return a().createElement("div",{className:g.notfound})}},94035:(e,n,t)=>{t.d(n,{O5:()=>u,OY:()=>i,xQ:()=>l});var r=t(15861),a=t(87757),c=t.n(a),o=new(t(78134).Z)("ms-db");o.version(1).stores({"ms-config":"id,value"});var i=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.table("ms-config").where("id").equals(n).first();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.value);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.table("ms-config").put({id:n,value:t});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.table("ms-config").clear();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},60057:(e,n,t)=>{t.d(n,{Z:()=>f});var r=t(8081),a=t.n(r),c=t(23645),o=t.n(c),i=t(61667),l=t.n(i),u=new URL(t(21642),t.b),s=o()(a()),m=l()(u);s.push([e.id,".CnNzBxLqCuPsMQ2_z9Am {\n  background-image: url("+m+");\n  width: 32%;\n  height: 90%;\n  margin: 0 auto 0 auto;\n  padding-top: 1rem;\n  background-repeat: no-repeat;\n  background-size: 100%;\n}\n",""]),s.locals={notfound:"CnNzBxLqCuPsMQ2_z9Am"};const f=s},40221:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),c=t(23645),o=t.n(c)()(a());o.push([e.id,".EvWdJGpivEmL52xNn91e {\n  cursor: pointer;\n  padding: 4px;\n  vertical-align: middle;\n}\n.QGjO9kCP0pQLzNzJzLiT {\n  width: 336px;\n  height: 500px;\n}\n.twzCnjx_TosRBmIce2wg {\n  height: 300px;\n  padding: 0.5em;\n}\n.h5dEn9QMw0kWHYcdN5ah {\n  height: 100%;\n}\n.mb3_Hjvo95IUZ3xR8fIm > div {\n  display: inline-block;\n  cursor: pointer;\n  width: 50%;\n  height: 46px;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 46px;\n  text-align: center;\n  border-top: 1px solid #f0f0f0;\n  border-radius: 0 0 2px 2px;\n  transition: all 0.3s;\n}\n.mb3_Hjvo95IUZ3xR8fIm > div:hover {\n  background-color: #f5f5f5;\n}\n",""]),o.locals={notification:"EvWdJGpivEmL52xNn91e",notificationOverlay:"QGjO9kCP0pQLzNzJzLiT",notificationTabs:"twzCnjx_TosRBmIce2wg",notificationDropdown:"h5dEn9QMw0kWHYcdN5ah",notificationBottom:"mb3_Hjvo95IUZ3xR8fIm"};const i=o},19461:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),c=t(23645),o=t.n(c)()(a());o.push([e.id,".BegdgceivVMTNN0qsthR {\n  cursor: pointer;\n  padding: 0px 1em;\n}\n.BegdgceivVMTNN0qsthR:hover {\n  background-color: #f5f5f5;\n}\n.Fjf_yZOiH1odFrqpPAca {\n  height: 100%;\n}\n.Fjf_yZOiH1odFrqpPAca .ant-tabs-content-holder > .ant-tabs-content {\n  height: 100%;\n}\n.AfOexQKn3gFDyOBUMf4S {\n  height: 100%;\n}\n.AfOexQKn3gFDyOBUMf4S .ant-tabs-content-holder {\n  display: none;\n}\n.AfOexQKn3gFDyOBUMf4S .ant-tabs-nav::before {\n  display: none;\n}\n.AfOexQKn3gFDyOBUMf4S .ant-tabs-nav {\n  height: 100%;\n  margin: unset;\n  padding-bottom: 3px;\n  padding-top: 5px;\n}\n.d61RvbWS_xQvpMzAJK1l .ant-pro-global-header-layout-side > div {\n  min-width: 0;\n}\n",""]),o.locals={userName:"BegdgceivVMTNN0qsthR",tabsHideNav:"Fjf_yZOiH1odFrqpPAca",tabsNavTop:"AfOexQKn3gFDyOBUMf4S",proLayout:"d61RvbWS_xQvpMzAJK1l"};const i=o},52445:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4="},21642:(e,n,t)=>{e.exports=t.p+"c4aa9428942a8f23e472.svg"}}]);